{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\react\\\\next-apollo\\\\pages\\\\Competitions\\\\CreateCompetition\\\\[createGenCompetId].js\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nmutation CREATE_GEN($id: ID!,$type:String!,$gen:String){\\n    createCompetition_gen(\\n        id : $id,\\n        type: $type,\\n        gen: $gen\\n  ){\\n        type\\n        gen \\n        compet_id{\\n        id\\n        name\\n        }\\n  }\\n}\\n\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/react-hooks';\nimport apolloClient from '../../../apollo/apolloClient';\nimport Link from 'next/link';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nvar CREATE_GEN = gql(_templateObject());\n\nvar CreateGens = function CreateGens() {\n  var route = useRouter();\n  var genY = [\"U9\", \"U11\", \"U13\", \"U15\", \"U17\"];\n  var genP = [\"N\", \"S+\", \"S-\", \"P-\", \"P+C\"];\n\n  var _useState = useState(true),\n      disableGenP = _useState[0],\n      setDisableGenP = _useState[1];\n\n  var _useState2 = useState(true),\n      disableGenY = _useState2[0],\n      setDisableGenY = _useState2[1];\n\n  var _useState3 = useState({\n    id: \"\",\n    type: \"\",\n    gen: \"\"\n  }),\n      genInfo = _useState3[0],\n      setGen = _useState3[1];\n\n  var _useState4 = useState(false),\n      success = _useState4[0],\n      setSuccess = _useState4[1];\n\n  var _useMutation = useMutation(CREATE_GEN, {\n    variables: _objectSpread({}, genInfo, {\n      id: route.query.createGenCompetId\n    }),\n    onCompleted: function onCompleted(data) {\n      if (data) {\n        setSuccess(true);\n      }\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createGen = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      error = _useMutation2$.error,\n      loading = _useMutation2$.loading,\n      data = _useMutation2$.data;\n\n  var handleSave = function handleSave(e) {\n    return _regeneratorRuntime.async(function handleSave$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setGen(_objectSpread({}, genInfo, _defineProperty({\n              id: route.query.createGenCompetId\n            }, e.target.name, e.target.value)));\n\n            if (success == true) {\n              setSuccess(false);\n            }\n\n            e.preventDefault();\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(createGen());\n\n          case 6:\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var handleChange = function handleChange(e) {\n    setGen(_objectSpread({}, genInfo, _defineProperty({\n      id: route.query.createGenCompetId\n    }, e.target.name, e.target.value)));\n  };\n\n  var handleType = function handleType(e) {\n    if (e.target.value == \"ประชาชน\") {\n      setDisableGenP(false);\n      setDisableGenY(true);\n    } else if (e.target.value == \"เยาวชน\") {\n      setDisableGenP(true);\n      setDisableGenY(false);\n    } else if (e.target.value == null) {\n      setDisableGenP(true);\n      setDisableGenY(true);\n    }\n\n    setGen(_objectSpread({}, genInfo, _defineProperty({}, e.target.name, e.target.value))); //console.log(genInfo);\n  };\n\n  var selectGen = function selectGen() {\n    if (disableGenP && disableGenY) {\n      return __jsx(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }, \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\");\n    } else if (disableGenP == false && disableGenY == true) {\n      return __jsx(Form.Control, {\n        as: \"select\",\n        name: \"gen\",\n        onChange: handleChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, __jsx(\"option\", {\n        disabled: disableGenY,\n        value: null,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E38\\u0E48\\u0E19\"), genP.map(function (prod) {\n        return __jsx(\"option\", {\n          disabled: disableGenP,\n          value: prod,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }\n        }, prod);\n      }));\n    } else {\n      return __jsx(Form.Control, {\n        as: \"select\",\n        name: \"gen\",\n        onChange: handleChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, __jsx(\"option\", {\n        disabled: disableGenY,\n        value: null,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E38\\u0E48\\u0E19\"), genY.map(function (prod) {\n        return __jsx(\"option\", {\n          disabled: disableGenY,\n          value: prod,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }\n        }, prod);\n      }));\n    }\n  };\n\n  console.log(genInfo);\n  return __jsx(\"div\", {\n    style: {\n      margin: 80\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    onSubmit: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Group, {\n    controlId: \"type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"Custom select\"), __jsx(Form.Control, {\n    as: \"select\",\n    name: \"type\",\n    onChange: handleType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, __jsx(\"option\", {\n    value: null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"), __jsx(\"option\", {\n    value: \"\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"), __jsx(\"option\", {\n    value: \"\\u0E40\\u0E22\\u0E32\\u0E27\\u0E0A\\u0E19\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"\\u0E40\\u0E22\\u0E32\\u0E27\\u0E0A\\u0E19\"))), selectGen(), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onChange: handleChange,\n    disabled: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, \"Submit\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, success && __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, \"Success for Create Gen \", data.createCompetition_gen.gen, \". You Can Create Gen again or \", __jsx(Link, {\n    href: \"../../Competitions\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 117\n    }\n  }, \"Come back Home\"))));\n};\n\nexport default apolloClient(CreateGens);","map":{"version":3,"sources":["D:/react/next-apollo/pages/Competitions/CreateCompetition/[createGenCompetId].js"],"names":["React","useState","useRouter","gql","useMutation","apolloClient","Link","Form","Button","CREATE_GEN","CreateGens","route","genY","genP","disableGenP","setDisableGenP","disableGenY","setDisableGenY","id","type","gen","genInfo","setGen","success","setSuccess","variables","query","createGenCompetId","onCompleted","data","createGen","error","loading","handleSave","e","target","name","value","preventDefault","console","log","handleChange","handleType","selectGen","map","prod","margin","createCompetition_gen"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useRouter } from 'next/router'\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport apolloClient from '../../../apollo/apolloClient'\r\nimport Link from 'next/link'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst CREATE_GEN = gql`\r\nmutation CREATE_GEN($id: ID!,$type:String!,$gen:String){\r\n    createCompetition_gen(\r\n        id : $id,\r\n        type: $type,\r\n        gen: $gen\r\n  ){\r\n        type\r\n        gen \r\n        compet_id{\r\n        id\r\n        name\r\n        }\r\n  }\r\n}\r\n\r\n`\r\n\r\n\r\n\r\n\r\nconst CreateGens = () => {\r\n    const route = useRouter();\r\n    const genY = [\"U9\", \"U11\", \"U13\", \"U15\", \"U17\"];\r\n    const genP = [\"N\", \"S+\", \"S-\", \"P-\", \"P+C\"];\r\n    const [disableGenP, setDisableGenP] = useState(true)\r\n    const [disableGenY, setDisableGenY] = useState(true)\r\n    const [genInfo, setGen] = useState({\r\n        id: \"\",\r\n        type: \"\",\r\n        gen: \"\"\r\n    })\r\n    const [success, setSuccess] = useState(false)\r\n    const [createGen, { error, loading, data }] = useMutation(CREATE_GEN, {\r\n        variables: { ...genInfo, id: route.query.createGenCompetId },\r\n        onCompleted: data => {\r\n            if (data) {\r\n                setSuccess(true)\r\n            }\r\n        }\r\n    })\r\n\r\n    const handleSave = async e => {\r\n        try {\r\n            setGen({\r\n                ...genInfo, id: route.query.createGenCompetId,\r\n                [e.target.name]: e.target.value\r\n            })\r\n            if (success == true) {\r\n                setSuccess(false)\r\n            }\r\n            e.preventDefault()\r\n            await createGen()\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const handleChange = e => {\r\n        setGen({\r\n            ...genInfo, id: route.query.createGenCompetId,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleType = e => {\r\n        if (e.target.value == \"ประชาชน\") {\r\n            setDisableGenP(false)\r\n            setDisableGenY(true)\r\n        }\r\n        else if (e.target.value == \"เยาวชน\") {\r\n            setDisableGenP(true)\r\n            setDisableGenY(false)\r\n        }\r\n        else if (e.target.value == null) {\r\n            setDisableGenP(true)\r\n            setDisableGenY(true)\r\n        }\r\n        setGen({\r\n            ...genInfo,\r\n            [e.target.name]: e.target.value\r\n        })\r\n        //console.log(genInfo);\r\n\r\n    }\r\n\r\n    const selectGen = () => {\r\n        if (disableGenP && disableGenY) {\r\n            return (<p>กรุณาเลือกประเภท</p>);\r\n        }\r\n        else if (disableGenP == false && disableGenY == true) {\r\n            return (\r\n                <Form.Control as=\"select\" name=\"gen\" onChange={handleChange}>\r\n                    <option disabled={disableGenY} value={null}>เลือกรุ่น</option>\r\n                    {genP.map(prod => (\r\n                        <option disabled={disableGenP} value={prod}>{prod}</option>\r\n                    ))}\r\n                </Form.Control>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <Form.Control as=\"select\" name=\"gen\" onChange={handleChange}>\r\n                    <option disabled={disableGenY} value={null}>เลือกรุ่น</option>\r\n                    {genY.map(prod => (\r\n                        <option disabled={disableGenY} value={prod}>{prod}</option>\r\n                    ))}\r\n                </Form.Control>\r\n            )\r\n        }\r\n    }\r\n    console.log(genInfo);\r\n    return (\r\n        <div style={{ margin: 80 }}>\r\n            <Form onSubmit={handleSave}>\r\n                {/* <input type=\"text\" name=\"id\" value={route.query.createGenCompetId} hidden={true} /> */}\r\n                <Form.Group controlId=\"type\">\r\n                    <Form.Label>Custom select</Form.Label>\r\n                    <Form.Control as=\"select\" name=\"type\" onChange={handleType}>\r\n                        <option value={null}>กรุณาเลือก</option>\r\n                        <option value=\"ประชาชน\">ประชาชน</option>\r\n                        <option value=\"เยาวชน\">เยาวชน</option>\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                {selectGen()}\r\n                <Button variant=\"primary\" type=\"submit\" onChange={handleChange} disabled={loading}>\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n            {/* <form onSubmit={handleSave}>\r\n                <input type=\"text\" name=\"id\" value={route.query.createGenCompetId} hidden={true} />\r\n                <select name=\"type\" onChange={handleType}>\r\n                    <option value={null}>กรุณาเลือก</option>\r\n                    <option value=\"ประชาชน\">ประชาชน</option>\r\n                    <option value=\"เยาวชน\">เยาวชน</option>\r\n                </select>\r\n                {selectGen()}\r\n                <button type=\"submit\" style={{ margin: '5px', padding: '18px' }}>บันทึก</button>\r\n            </form> */}\r\n            <div>\r\n                {success && <p>Success for Create Gen {data.createCompetition_gen.gen}. You Can Create Gen again or <Link href=\"../../Competitions\">Come back Home</Link></p>}\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\nexport default apolloClient(CreateGens)\r\n"]},"metadata":{},"sourceType":"module"}