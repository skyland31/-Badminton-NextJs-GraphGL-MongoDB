{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\react\\\\next-apollo\\\\pages\\\\Competitions\\\\CreateCompetition\\\\index.js\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nmutation CREATE_COMPETITION($name: String!, $detail: String!, $place: String!,$price: String!,$compet_start: String!,$compet_end: String!,$start: String!,$end: String!,$pay_end: String!) {\\n  createCompetition(\\n    name: $name,\\n    detail: $detail,\\n    place: $place,\\n    price: $price,\\n    compet_start: $compet_start,\\n    compet_end: $compet_end\\n    start: $start,\\n    end: $end,\\n    pay_end: $pay_end,\\n  ){\\n        id\\n        name\\n        detail\\n        place\\n        price\\n        compet_start\\n        compet_end\\n        start\\n        end\\n        pay_end\\n  }\\n}\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport apolloClient from '../../../apollo/apolloClient';\nimport Link from 'next/link';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nvar CREATE_COMPETITION = gql(_templateObject());\n\nvar Create = function Create() {\n  var _useState = useState({\n    name: \"\",\n    detail: \"\",\n    place: \"\",\n    price: \"\",\n    compet_start: \"\",\n    compet_end: \"\",\n    start: \"\",\n    end: \"\",\n    pay_end: \"\"\n  }),\n      competitionInfo = _useState[0],\n      setCompetition = _useState[1];\n\n  var _useState2 = useState(false),\n      success = _useState2[0],\n      setSuccess = _useState2[1]; // const [competGenInfo, setcompetGenInfo] = useState({\n  //     id: \"\",\n  //     type: \"\",\n  //     gen: \"\",\n  // })\n\n\n  var _useMutation = useMutation(CREATE_COMPETITION, {\n    variables: _objectSpread({}, competitionInfo),\n    onCompleted: function onCompleted(data) {\n      if (data) {\n        setSuccess(true);\n        setCompetition({\n          name: \"\",\n          detail: \"\",\n          place: \"\",\n          price: \"\",\n          compet_start: \"\",\n          compet_end: \"\",\n          start: \"\",\n          end: \"\",\n          pay_end: \"\"\n        });\n      }\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createCompetition = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error,\n      data = _useMutation2$.data;\n\n  var handleSubmit = function handleSubmit(e) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            e.preventDefault();\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(createCompetition());\n\n          case 4:\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  var handleChange = function handleChange(e) {\n    setCompetition(_objectSpread({}, competitionInfo, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  console.log(data);\n  return (// <div style={{ margin: 80 }}>\n    //     <form action=\"../CreateGenCompetition\" onSubmit={handleSubmit}>\n    //         <input type=\"text\" name=\"name\" placeholder='Title Competition' onChange={handleChange} /><br /><br />\n    //         <textarea type=\"input\" name=\"detail\" placeholder='รายละเอียด' onChange={handleChange} /><br /><br />\n    //         <input type=\"text\" name=\"start\" placeholder='วันเปิดรับสมัคร' onChange={handleChange} /><br /><br />\n    //         <input type=\"text\" name=\"end\" placeholder='วันสิ้นสุดรับสมัคร ' onChange={handleChange} /><br /><br />\n    //         <input type=\"text\" name=\"compet_start\" placeholder='วันเริ่มการแข่งขัน' onChange={handleChange} /><br /><br />\n    //         <input type=\"text\" name=\"compet_end\" placeholder='วันสิ้นสุดการแข่งขัน' onChange={handleChange} /><br /><br />\n    //         <input type=\"number\" name=\"price\" placeholder='ค่าสมัคร' onChange={handleChange} /><br /><br />\n    //         <input type=\"text\" name=\"pay_end\" placeholder='วันสุดท้ายการจ่ายเงิน' onChange={handleChange} /><br /><br />\n    //         <input type=\"text\" name=\"place\" placeholder='สถานที่' onChange={handleChange} /><br /><br />\n    //         <button type=\"submit\" style={{ margin: '5px', padding: '18px' }} onChange={handleChange} disabled={loading}>สร้างการแข่งขัน Badminton</button>\n    //     </form>\n    //     <div>\n    //         {success && <p>You successfully Create Competitions,please create Gens <Link href=\"../Competitions/CreateCompetition/[createGenCompettionId]\" key={data.createCompetition.id} as={`../Competitions/CreateCompetition/${data.createCompetition.id}`}><a >Competitions.</a></Link></p>}\n    //         {error && <p style={{ color: 'red' }}>{error.graphQLErrors[0].message}</p>}\n    //     </div>\n    // </div >\n    __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, __jsx(\"form\", {\n      action: \"../CreateGenCompetition\",\n      onSubmit: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, __jsx(InputGroup.Prepend, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, __jsx(InputGroup.Text, {\n      id: \"basic-addon1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, \"@\")), __jsx(FormControl, {\n      placeholder: \"Username\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    })), __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, __jsx(FormControl, {\n      placeholder: \"Recipient's username\",\n      \"aria-label\": \"Recipient's username\",\n      \"aria-describedby\": \"basic-addon2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }), __jsx(InputGroup.Append, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, __jsx(InputGroup.Text, {\n      id: \"basic-addon2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, \"@example.com\"))), __jsx(\"label\", {\n      htmlFor: \"basic-url\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"Your vanity URL\"), __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, __jsx(InputGroup.Prepend, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, __jsx(InputGroup.Text, {\n      id: \"basic-addon3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, \"https://example.com/users/\")), __jsx(FormControl, {\n      id: \"basic-url\",\n      \"aria-describedby\": \"basic-addon3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    })), __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, __jsx(InputGroup.Prepend, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, __jsx(InputGroup.Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, \"$\")), __jsx(FormControl, {\n      \"aria-label\": \"Amount (to the nearest dollar)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }), __jsx(InputGroup.Append, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, __jsx(InputGroup.Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \".00\"))), __jsx(InputGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, __jsx(InputGroup.Prepend, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, __jsx(InputGroup.Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, \"With textarea\")), __jsx(FormControl, {\n      as: \"textarea\",\n      \"aria-label\": \"With textarea\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    })), __jsx(\"button\", {\n      type: \"submit\",\n      style: {\n        margin: '5px',\n        padding: '18px'\n      },\n      onChange: handleChange,\n      disabled: loading,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E41\\u0E02\\u0E48\\u0E07\\u0E02\\u0E31\\u0E19 Badminton\")))\n  );\n};\n\nexport default apolloClient(Create);","map":{"version":3,"sources":["D:/react/next-apollo/pages/Competitions/CreateCompetition/index.js"],"names":["React","useState","useMutation","gql","apolloClient","Link","InputGroup","FormControl","CREATE_COMPETITION","Create","name","detail","place","price","compet_start","compet_end","start","end","pay_end","competitionInfo","setCompetition","success","setSuccess","variables","onCompleted","data","createCompetition","loading","error","handleSubmit","e","preventDefault","console","log","handleChange","target","value","margin","padding"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport gql from 'graphql-tag'\r\nimport apolloClient from '../../../apollo/apolloClient'\r\nimport Link from 'next/link'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nconst CREATE_COMPETITION = gql`\r\nmutation CREATE_COMPETITION($name: String!, $detail: String!, $place: String!,$price: String!,$compet_start: String!,$compet_end: String!,$start: String!,$end: String!,$pay_end: String!) {\r\n  createCompetition(\r\n    name: $name,\r\n    detail: $detail,\r\n    place: $place,\r\n    price: $price,\r\n    compet_start: $compet_start,\r\n    compet_end: $compet_end\r\n    start: $start,\r\n    end: $end,\r\n    pay_end: $pay_end,\r\n  ){\r\n        id\r\n        name\r\n        detail\r\n        place\r\n        price\r\n        compet_start\r\n        compet_end\r\n        start\r\n        end\r\n        pay_end\r\n  }\r\n}`\r\n\r\n\r\n\r\n\r\nconst Create = () => {\r\n    const [competitionInfo, setCompetition] = useState({\r\n        name: \"\",\r\n        detail: \"\",\r\n        place: \"\",\r\n        price: \"\",\r\n        compet_start: \"\",\r\n        compet_end: \"\",\r\n        start: \"\",\r\n        end: \"\",\r\n        pay_end: \"\",\r\n    })\r\n    const [success, setSuccess] = useState(false);\r\n\r\n\r\n    // const [competGenInfo, setcompetGenInfo] = useState({\r\n    //     id: \"\",\r\n    //     type: \"\",\r\n    //     gen: \"\",\r\n    // })\r\n    const [createCompetition, { loading, error, data }] = useMutation(CREATE_COMPETITION, {\r\n        variables: { ...competitionInfo },\r\n        onCompleted: data => {\r\n            if (data) {\r\n                setSuccess(true)\r\n                setCompetition({\r\n                    name: \"\",\r\n                    detail: \"\",\r\n                    place: \"\",\r\n                    price: \"\",\r\n                    compet_start: \"\",\r\n                    compet_end: \"\",\r\n                    start: \"\",\r\n                    end: \"\",\r\n                    pay_end: \"\",\r\n                })\r\n            }\r\n        }\r\n    })\r\n    const handleSubmit = async e => {\r\n        try {\r\n            e.preventDefault()\r\n            await createCompetition()\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    const handleChange = e => {\r\n        setCompetition({\r\n            ...competitionInfo,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    console.log(data);\r\n\r\n    return (\r\n        // <div style={{ margin: 80 }}>\r\n        //     <form action=\"../CreateGenCompetition\" onSubmit={handleSubmit}>\r\n        //         <input type=\"text\" name=\"name\" placeholder='Title Competition' onChange={handleChange} /><br /><br />\r\n        //         <textarea type=\"input\" name=\"detail\" placeholder='รายละเอียด' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"text\" name=\"start\" placeholder='วันเปิดรับสมัคร' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"text\" name=\"end\" placeholder='วันสิ้นสุดรับสมัคร ' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"text\" name=\"compet_start\" placeholder='วันเริ่มการแข่งขัน' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"text\" name=\"compet_end\" placeholder='วันสิ้นสุดการแข่งขัน' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"number\" name=\"price\" placeholder='ค่าสมัคร' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"text\" name=\"pay_end\" placeholder='วันสุดท้ายการจ่ายเงิน' onChange={handleChange} /><br /><br />\r\n        //         <input type=\"text\" name=\"place\" placeholder='สถานที่' onChange={handleChange} /><br /><br />\r\n        //         <button type=\"submit\" style={{ margin: '5px', padding: '18px' }} onChange={handleChange} disabled={loading}>สร้างการแข่งขัน Badminton</button>\r\n        //     </form>\r\n        //     <div>\r\n        //         {success && <p>You successfully Create Competitions,please create Gens <Link href=\"../Competitions/CreateCompetition/[createGenCompettionId]\" key={data.createCompetition.id} as={`../Competitions/CreateCompetition/${data.createCompetition.id}`}><a >Competitions.</a></Link></p>}\r\n\r\n        //         {error && <p style={{ color: 'red' }}>{error.graphQLErrors[0].message}</p>}\r\n        //     </div>\r\n        // </div >\r\n        <div>\r\n            <form action=\"../CreateGenCompetition\" onSubmit={handleSubmit}>\r\n                <InputGroup className=\"mb-3\">\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text id=\"basic-addon1\">@</InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <FormControl\r\n                        placeholder=\"Username\"\r\n                        aria-label=\"Username\"\r\n                        aria-describedby=\"basic-addon1\"\r\n                    />\r\n                </InputGroup>\r\n\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl\r\n                        placeholder=\"Recipient's username\"\r\n                        aria-label=\"Recipient's username\"\r\n                        aria-describedby=\"basic-addon2\"\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <InputGroup.Text id=\"basic-addon2\">@example.com</InputGroup.Text>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n\r\n                <label htmlFor=\"basic-url\">Your vanity URL</label>\r\n                <InputGroup className=\"mb-3\">\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text id=\"basic-addon3\">\r\n                            https://example.com/users/\r\n                    </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <FormControl id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n                </InputGroup>\r\n\r\n                <InputGroup className=\"mb-3\">\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>$</InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <FormControl aria-label=\"Amount (to the nearest dollar)\" />\r\n                    <InputGroup.Append>\r\n                        <InputGroup.Text>.00</InputGroup.Text>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n\r\n                <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>With textarea</InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <FormControl as=\"textarea\" aria-label=\"With textarea\" />\r\n                </InputGroup>\r\n                <button type=\"submit\" style={{ margin: '5px', padding: '18px' }} onChange={handleChange} disabled={loading}>สร้างการแข่งขัน Badminton</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default apolloClient(Create);\r\n"]},"metadata":{},"sourceType":"module"}